<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Functional Reactive Angular2</title>

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="css/sunburst.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write('<link rel="stylesheet" href="css/print/' + ( window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');
    </script>

    <link rel="stylesheet" href="css/styles.css">

    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>
<div class="reveal">

    <div class="slides">

        <section data-background-transition="slide">
            <div style="float: left;">
                <img src="img/angular2-logo.png"/><br/>
                <img src="img/rxjs-logo.png"/>
            </div>
            <div style="float: right;">
                <br/>
                <br/>
                <br/>
                <h2>Functional<br/>Reactive<br/>Angular 2</h2>
                <p>
                    <br/><br/>
                    <small>Created by John Urberg</small><br>
                    <small>Systems Architect @Lifetouch</small><br>
                    <small>@jurberg / jurberg.github.io</small>
                </p>
            </div>
        </section>

        <section>
            <h3>What is functional programming?</h3>
            <br/>
            <p>When functions, not objects or procedures, are used as the fundamental building blocks of a program.<a href="http://c2.com/cgi/wiki?FunctionalProgramming">*</a></p>
        </section>

        <section>
            <h3>First Class Functions</h3>
            <br/>
            <ul>
                <li>Can be stored in variables</li>
                <li>Can be passed as arguments to functions</li>
                <li>Can be created within functions</li>
                <li>Can be returned from functions</li>
            </ul>
        </section>

        <section>
            <h3>High Order Functions</h3>
            <br/>
            <p>A function that takes a function as an argument or returns a function as a result</p>
        </section>

        <section>
            <pre><code class="javascript">const wait = (callback) => setTimeout(callback, 1000);

const add = function(a, b) { return a + b; };

// currying (a.k.a. partial application)
const add3 = function(a) { return add(3, a); };
const add3 = add.bind(null, 3);
const add3 = curry(add)(3);

// composable
const incomplete = filter(where({complete: false}));
const groupByUser = partition(prop('username'));
const activeByUser = compose(groupByUser, incomplete);

const results = activeByUser(tasks);</code></pre>
        </section>

        <section>
            <h3>Purity</h3>
            <br/>
            <ul>
                <li>Immutable Data</li>
                <li>No Side Effects</li>
            </ul>
        </section>

        <section>
            <pre><code class="javascript">const cust = Object.freeze({
  name: 'John Doe',
  balance: 100
});

cust = {name: 'Jane Doe', balance: 100}; // TypeError
cust.name = 'Jane Doe'; // TypeError

const jane = Object.freeze(Object.assign({}, cust, {
  name: 'Jane Doe'
}));</code></pre>
        </section>

        <section>
            <pre><code class="javascript">const john = Immutable.Map({
  name: 'John Doe',
  balance: 100
});

const jane = john.set('name', 'Jane Doe');</code></pre>
        </section>

        <section>
            <pre><code class="clojure">(def cust {:name "John Doe" :balance 100})

(def jane (assoc cust :name "Jane Doe"))</code></pre>
        </section>

        <section>
            <pre><code class="javascript">function updateBalance(amount) {
  customer.balance = customer.balance + amount;
  return customer;
};

function updateBalance(amount, customer) {
  return customer.set('balance', customer.balance);
};</code></pre>
        </section>

        <section>
            <pre><code class="java">public class Customer {
  private final String name;
  private final BigDecimal balance;
  public Customer(String name, BigDecimal balance) {
    this.name = name;
    this.balance = balance;
  }
  public String getName() { return name; }
  public BigDecimal getBalance() { return balance; }
  public Customer updateBalance(BigDecimal amount) {
    return new Customer(name, balance.add(amount));
  }
}</code></pre>
        </section>

        <section>
            <h3>Other Functional Stuff</h3>
            <br/>
            <ul>
                <li>Monads and Functors</li>
                <li>Referential Transparency</li>
                <li>Lazy Evaluation</li>
            </ul>
        </section>

        <section>
            <h3>Why would I want to do that?!?</h3>
        </section>

        <section>
            <h3>Standard Reasons</h3>
            <br/>
            <ul>
                <li>Parallelism</li>
                <li>Ability to reason about your program</li>
                <li>Composability</li>
                <li>Better Modularity</li>
            </ul>
        </section>

        <section>
            <h3>Performance</h3>
            <br/>
            <p>Angular 2 is faster with immutable objects<br/>(more on that later)</p>
        </section>

        <section>
            <h3>What is Reactive Programming?</h3>
        </section>

        <section>
            <p>Rx is a library for composing asynchronous and event-based operations using observable collections</p>
        </section>

        <section>
            <p>"everything is a stream"</p>
            <ul>
                <li>click events</li>
                <li>user inputs</li>
                <li>data from a server</li>
            </ul>
        </section>

        <section>
            <p>Streams use the same operators that are used on lists</p>
        </section>

        <section>
            <pre><code class="javascript">// Array
const res = stocks
  .filter(q => q.symbol === 'FB')
  .map(q => q.quote);

// Observable
const res = stocks$
  .filter(q => q.symbol === 'FB')
  .map(q => q.quote);</code></pre>
        </section>

        <section>
            <h3>Pull vs Push</h3>
            <br/>
            <table style="border-collapse: collapse; border: 1px solid black;width: 100%">
                <thead>
                    <tr>
                        <td style="border: 1px solid black"></td>
                        <td style="border: 1px solid black;font-weight: bold;">Single</td>
                        <td style="border: 1px solid black;font-weight: bold;">Multiple</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid black">Pull/Synchronous</td>
                        <td style="border: 1px solid black">Object</td>
                        <td style="border: 1px solid black">Iterables (Array, Map, etc)</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid black">Push/Async</td>
                        <td style="border: 1px solid black">Promise</td>
                        <td style="border: 1px solid black">Observable</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h3>Observables</h3>
            <br/>
            <ul>
                <li>Stream of data over time</li>
                <li>Hot vs Cold</li>
                <li>Asynchronous</li>
                <li>Lazy</li>
            </ul>
        </section>

        <section>
            <h3>Observable Creation</h3>
            <br/>
            <pre><code class="javascript">Rx.Observable.create(observer => {
  observer.onNext(42);
  observer.onCompleted();
  return () => console.log('disposed')
});

Rx.Observable.from([1,2,3,4]);

Rx.Observable.timer(5000, 1000);

Rx.Observable.fromEvent(button, 'click');</code></pre>
        </section>

        <section>
            <h3>Subscribing to an Observable</h3>
            <br/>
            <pre><code class="javascript">stream$.subscribe(
  function(value) {},
  function(error) {},  // optional
  function() {}); // optional

const model$ = Rx.Observable.timer(1, 1000)
  .map(i => 'Seconds elapsed ' + i);
model$.subscribe(text => console.log(text));</code></pre>
        </section>

        <section>
            <h3>Hot vs Cold Observables</h3>
        </section>

        <section>
            <h3>Cold Observables</h3>
            <br/>
            <p>Sequences that are passive and start producing notifications when subscribed to</p>
            <br/>
            <img src="img/cold.png">
        </section>

        <section>
            <h3>Hot Observables</h3>
            <br/>
            <p>Sequences that are active and produce notifications regardless of subscriptions</p>
            <br/>
            <img src="img/hot.png">
        </section>

        <section>
            <h2>Hot/Cold Demo</h2>
        </section>

        <section>
            <h2>Auto Complete Demo</h2>
            <br/>
            <a href="http://jsbin.com/fuqesa/edit?js,output">Link</a>
        </section>

        <section>
            <h2>Questions</h2>
        </section>

        <section>
            <h3>Thanks</h3>
            <br><br>
            <p><a href="todo">TODO!</a></p>
        </section>

    </div>
</div>

<script src="js/head.min.js"></script>
<script src="js/reveal.js"></script>
<script src="js/jquery.js"></script>
<script src="js/app.js"></script>

</body>
</html>
